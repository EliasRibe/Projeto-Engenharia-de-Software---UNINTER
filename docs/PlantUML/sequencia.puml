@startuml Fluxo: Agendar Consulta (RF003)

title Fluxo: Agendar Consulta (RF003)

actor Paciente
participant "Front-End" as FE
participant "API SGHSS" as API
database "DB" as DB

Paciente -> FE: Solicita agendamento (data, especialidade)
FE -> API: GET /agenda/disponibilidades
API -> DB: Consultar slots
DB --> API: Slots disponíveis
API --> FE: Retorna opções
Paciente -> FE: Seleciona slot
FE -> API: POST /appointments {patientId, profissionalId, slot, tipo}
API -> DB: Gravar consulta (status=Agendada)\n+ trilha de auditoria
DB --> API: OK (id da consulta)
API --> FE: 201 Created + detalhes
FE --> Paciente: Confirmação exibida\n(+ dispara notificação interna)

@enduml
